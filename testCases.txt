Test cases:

CaptchaService

getCaptchasBy_whenFilterFormGiven_thenCallCaptchaRepository

editCaptcha_whenDtoGiven_thenSavePredictionResultAndCaptchaTypeAndCaptcha

createCaptcha_whenImageGiven_thenSaveImageAndCaptchaAndPredictionResult

createCaptcha_whenExceptionThrown_thenRollback


CaptchaType

getAllTags_whenCalled_thenCallCaptchaTypeRepository

addTag_whenTagGiven_thenSaveTagAndReturnDto


HistoryNoteService

getNotes_whenCalled_thenCallHistoryNoteRepository

addNote_whenDtoGiven_thenSaveNoteAndReturnDto

addNote_whenCaptchaDtoGiven_thenCallhistoryNoteDtoFactory

addNote_whenCaptchaTypeDtoGiven_thenCallHistoryNoteDtoFactory


ImageService

saveFile_whenImageGiven_thenPersistExtension

saveFile_whenFileNotSaved_thenThrowException


UserService

getUser_whenTokenValidAndUserExists_thenReturnUser

getUser_whenTokenValidAndUserDoesNotExist_thenThrowException

getUser_whenTokenInvalid_thenThrowException

createUser_whenDtoGiven_thenSaveUserAndLoadUserDetails


AuthController

authenticate_whenLoginFormValidAndAuthenticationSucceed_thenOkAndJwtSet

authenticate_whenLoginFormInvalid_thenBadRequest

authenticate_whenAuthenticationFailed_thenUnauthorized

signUp_whenFormValid_thenCreateUserAndAuthenticate

signUp_whenFormInvalid_thenBadRequest

getUserInfo_whenTokenEmpty_thenUnauthorized

getUserInfo_whenTokenValid_thenOkAndReturnUser

getUserInfo_whenTokenInvalid_thenUnauthorized

logout_whenCalled_thenNoContentAndInvalidateJwt


CaptchaController

getCaptchas_whenFilterFormValid_thenOkAndReturnCaptchas

getCaptchas_whenFilterFormInvalid_thenBadRequest

createCaptcha_whenRoleAllowedAndImgValid_thenOkAndSaveCaptchaAndHistory

createCaptcha_whenRoleNotAllowed_thenUnauthorized

createCaptcha_whenImgInvalid_thenBadRequest

updateCaptcha_whenRoleAllowedAndDtoValid_thenOkAndEditCaptchaAndAddHistory

updateCaptcha_whenRoleNotAllowed_thenBadRequest


CaptchaTypeController

getAllTags_whenCalled_thenOkAndReturnTags

addTag_whenRoleAllowed_thenOkAndSaveTagAndHistory

addTag_whenRoleNotAllowed_thenUnauthorized


HistoryNotController

getNotes_whenCalled_thenOkAndReturnNotes